---
title: "Les prix nobels"
author: "Iris Thorimbert"
date: "07/11/2021"
output: html_document    
---
    
M1 MIASHS, semestre 6   
Cours de M. CROSETTO, Logiciel spécialisé R

![](nobel noir.jpg)

## **Base de données**

La base de données 'Nobel Laureate Publications' est extraite du projet *TidyTuesday* disponible sur le site *GitHub*.
Les données ont été recueillies par Georgios Karamanis qui s'est appuyé sur différents sites internets tels que la page officiel du prix nobel, celui des universités pour récolter et assembler toutes les informations.

Les prix sont décernés chaque année depuis 1901 à des personnes « ayant apporté le plus grand bénéfice à l'humanité », par leurs inventions, découvertes et améliorations dans différents domaines.

Le premier tableau, *nobel_winners*, contient donc, comme son nom l'indique, le nom des gagnants. Celui-ci est composé de 969 observations et 18 variables telles que l'année du prix (de 1901 à 2016), la catégorie (chimie, physique, littérature, médecine, économie et paix), nom du lauréat, son pays d'origine... Dans le second tableau, nommé *nobel_winner_all_pubs*, nous ai fourni des informations sur les publications écrites par les gagnants. Nous avons un tableau de 93 394 observations et 11 variables. Ainsi nous pouvons y lire, pour chaque vainqueurs, le titre et l'année de chacune de ses publications, la revue dans laquelle elle a été publié, mais également si c'est à partir de ce papier que l'individu à reçu son prix.

A partir de ces informations, nous pouvons à présent commencer notre analyse.


```{r setup, message=FALSE, warning=FALSE, echo=FALSE}
#installation package
library(tidyverse)
library(skimr)
library(knitr)
library(kableExtra)
library(dplyr)
library(scales)
library(ggthemes)
```
```{r include=FALSE}

nobel_winners <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-05-14/nobel_winners.csv")

nobel_winner_all_pubs <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-05-14/nobel_winner_all_pubs.csv")

```

Dans un soucis de simplification de la base de données et de son analyse, j'ai fait le choix de supprimer des données. Tout d'abord j'ai enlevé toutes les lignes rattachées au prix nobel de la paix. En effet, j'obtiens de nombreuses valeurs manquantes et de plus, le fait que des organisations ont parfois été récompensées, cela rend notre analyse plus complexe. Ensuite, dans un second temps, j'ai supprimé les colonnes numéro 13, 14 et 15 correspondant respectivement à *organization_name*, *organization_city* et *organization_country* car celles-ci entraînentt un doublon de certain lauréat. C'est donc pour supprimer ces doublons que j'execute la commande *unique*.

```{r}
# nettoyage de la base de données

nobel <- nobel_winners %>% 
  .[!nobel_winners$category=="Peace",] %>%    # suppression de tous les prix associés à Peace
  .[-c(13,14,15)]                             # suppression de ces colonnes 

nobel_no_doublon <- unique(nobel[ 1:839,])    # suppression des doublons
```

A partir de maintenant nous avons donc 781 observation et 15 variables.



Idée de question

1. combien de pays on gagné le prix nobel
quels sont les pays qui ne sont plus les memes 
2. quels sont  les 10 pays qui ont recus le plus de prix 
3. plusieurs fois eu un prix ?
 et dans deux domaines différents?
4. répartition par continent
6. nombre de publication avant d'avoir un prix?
7. nb ind seul à obtenir le prix et non un travail de groupe? graphe de 1 , 2 , 3 , 4 , 5 , et plus
 est ce que le nombre de publication a un impact sur la probabilité d'avoir un prix?
 8. motivation des individus principales? ou tel ou tel type de motiv






## **Questions**

#### **Combien de femmes ont gagné un prix nobel?**

```{r}
a <- str_count(nobel_no_doublon$gender, 'Female') #créer une matrice 1 et 0 
sum(a,na.rm = T) #compte le nombre de 1
```


#### **Qu'est-ce que cela représente par rapport aux hommes?**

```{r}
nobel_no_doublon %>% 
  select(gender) %>% 
  ggplot()+
  aes(x = gender, fill = gender)+
  geom_bar()+
  theme_classic()+
  labs(title = "Nombre de prix obtenus en fonction du genre", y = "Nombre")+
  theme(plot.title = element_text(hjust = 0.5))+
  annotate("text", x = 1, y = 65, label = 33, color = '#999999')+
  annotate("text", x = 2, y = 780, label = 748, color = '#999999')
  
```
### **Qu'est-ce que cela représente en pourcentage?**

```{r}
pourcentage_f = 33/781*100
pourcentage_h = 748/781*100
pourcentage_f <- round(pourcentage_f, digits = 2) #2 chiffres après la virgule
pourcentage_h <- round(pourcentage_h, digits = 2)

# Création d'une table comprennant les pourcentages trouvés au-dessus : 
table <- data.frame( Sexe = c("Male", "Female"),
                     Pourcentage = c(pourcentage_h, pourcentage_f))

#graphique en colonne
barre <- table %>% 
  ggplot()+
  aes(x = "",y = Pourcentage, fill = Sexe)+
  geom_col()

#transformer en camembert
pie <- barre +
        coord_polar(theta = "y")

#Mise en page du camembert
blank_theme <- theme_minimal() + 
  theme(
    axis.title.x = element_blank(),
    axis.title.y = element_blank(),#on enleve les nom des axes x et y
    panel.border = element_blank(),
    panel.grid=element_blank(),
    axis.ticks = element_blank())+ 
    theme(axis.text.x = element_blank()) #on enleve les valeurs des axes

pie +
  blank_theme + labs(title = "Nombre de prix obtenus en fonction du genre")+
  theme(plot.title = element_text(hjust = 0.5))+
  geom_text(aes(y = Pourcentage/2 + c(0, cumsum(Pourcentage)[-length(Pourcentage)]),
                label = percent(Pourcentage/100)), size=3.3, color = 'black') # ajout des chiffres

```




### **En quelle année des femmes ont reçu un prix**     

```{r}
# création d'une base pour faciliter la visualisation 
femme <- nobel_no_doublon %>% 
  filter(gender == "Female") %>% 
  select(prize_year,category, full_name, prize_share)

nobel_no_doublon %>% 
  filter(gender =="Female") %>% 
  group_by(prize_year ) %>% 
  count(prize_year) %>%  
  ggplot(aes(x = prize_year, y=n))+
  geom_point(color = "#FF6666")+ 
  scale_x_continuous(breaks = c(1903, 1911, 1926, 1935, 1945, 1963, 1977, 1986, 1996, 2007, 2014),
                     limits = c(1900,2016))+
  scale_y_continuous(breaks = c(1:6),limits = c(0,6))+
  theme_classic()+
  labs(title = "Nombre de femmes ayant reçu un prix nobel de 1901 à 2016", y = "nombres")+
  theme(plot.title = element_text(hjust = 0.5))+
  annotate("text", x = 2004, y = 2.3, label = 2004, color = '#999999', size = 3)+
  annotate("text", x = 2009, y = 5.3, label = 2009, color = '#999999', size = 3)+
  annotate("text", x = 2015, y = 2.3, label = 2015, color = '#999999', size = 3)

```

**Remarque :** On peut constater qu'en 2009, 5 femmes ont remporté un prix. Sachant que nous analysons ici une base pour 5 prix nobels : chimie, physique, médecine et littérature, économie (puisque nous avons enlevé le prix nobel de la paix), nous pouvons donc supposer que toutes les matières ont été gagné par une femme. En revanche, lorsque nous analysons plus en détail, nous pouvons constater que le prix nobel de physique a été gagné par un homme. Cela paraît donc étrange et nous fait interroger sur la véracité de nos résultats. Pourtant la raison est partfaitement logique : le prix peut être partager par plusieurs personnes. En effet, nous avons une colonne *prize_share*, qui nous permet d'observer avec combien de personne le prix a été partagé. Ainsi, si l'on revient à l'année 2009, nous sommes en mesure de constater que le prix nobel de médecine à été partagé entre 3 personnes, 2 femmes et un homme.




#### **Combien sont les individus qui partagent un prix à plusieurs?**





#### **Combien de nationalité ont obtenu un prix nobel?**
```{r}
nobel_no_doublon %>% 
  select(birth_country) %>% 
  unique() %>% 
  count()
```

Nous avons donc 104 nationalités différentes qui ont un jour gagné un prix nobel.
Sachant qu'il y a 195 pays dans le monde, environ un pays sur 2 a un jour été récompensé. 
Cependant ce résultat est également à prendre à la légère car nous prenons ici le pays de naissance du lauréat, or certain individu ont, entre temps, changer de nationnalité. Nous pouvons par exemple prendre Marie Curie, né en Pologne puis naturalisée française après son mariage.  
De plus, comme notre base de donnée commence au début du 20ème siècle, nous avons des pays qui aujoud'hui n'existe plus et qui entraine une augmentation du nombre de pays ayant gagné un prix.

```{r}
nobel_no_doublon %>% 
  select(birth_country) %>% 
  filter(birth_country == "Prussia (Poland)"| birth_country == "Prussia (Germany)"| birth_country == "Prussia (Russia)") %>%  
  unique()
```


### **Combien de personnes ont obtenu plusieurs prix nobels?**

```{r}

```




```{r}

```

